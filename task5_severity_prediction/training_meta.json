{
  "timestamp": "2025-12-07 14:25:10",
  "best_model": "Gradient Boosting",
  "n_train_full": 13382,
  "n_test": 3346,
  "pos_train_full": 3144,
  "pos_test": 786,
  "pos_rate_train_full": 0.23494246002092362,
  "pos_rate_test": 0.2349073520621638,
  "n_features": 36,
  "feature_cols": [
    "patientonsetage",
    "age_years",
    "patientsex",
    "patientweight",
    "num_drugs",
    "num_reactions",
    "age_missing",
    "sex_male",
    "sex_female",
    "sex_unknown",
    "age_gt_65",
    "age_gt_70",
    "age_gt_75",
    "weight_missing",
    "bmi",
    "bmi_underweight",
    "bmi_normal",
    "bmi_overweight",
    "bmi_obese",
    "polypharmacy",
    "high_polypharmacy",
    "moderate_polypharmacy",
    "very_high_polypharmacy",
    "has_steroid",
    "has_antibiotic",
    "has_antiviral",
    "has_chemo",
    "has_targeted",
    "has_antifungal",
    "steroid_plus_antibiotic",
    "multiple_reactions",
    "many_reactions",
    "cancer_stage_I",
    "cancer_stage_II",
    "cancer_stage_III",
    "cancer_stage_IV"
  ],
  "metric_primary": "PR-AUC",
  "threshold_source": "validation (F1-max)",
  "scale_pos_weight": 3.2563613231552164,
  "results": {
    "Logistic Regression": {
      "accuracy": 0.515839808726838,
      "precision": 0.28615384615384615,
      "recall": 0.7099236641221374,
      "f1": 0.40789473684210525,
      "roc_auc": 0.6352412333015267,
      "pr_auc": 0.3895906557061851,
      "best_threshold": 0.45270749992185544
    },
    "Random Forest": {
      "accuracy": 0.5774058577405857,
      "precision": 0.3020176544766709,
      "recall": 0.6094147582697201,
      "f1": 0.40387858347386174,
      "roc_auc": 0.6391618956743003,
      "pr_auc": 0.3996775707946876,
      "best_threshold": 0.27666666666666667
    },
    "Gradient Boosting": {
      "accuracy": 0.6586969515839809,
      "precision": 0.35828025477707004,
      "recall": 0.5725190839694656,
      "f1": 0.4407443682664055,
      "roc_auc": 0.6653608559955471,
      "pr_auc": 0.43693446576825834,
      "best_threshold": 0.2262726481847786
    },
    "XGBoost": {
      "accuracy": 0.6930663478780633,
      "precision": 0.38402309913378246,
      "recall": 0.5076335877862596,
      "f1": 0.43726027397260275,
      "roc_auc": 0.6640142930979644,
      "pr_auc": 0.434536963459809,
      "best_threshold": 0.5154462456703186
    }
  }
}