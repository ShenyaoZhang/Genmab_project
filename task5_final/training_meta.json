{
  "timestamp": "2025-12-14 18:24:43",
  "best_model": "Gradient Boosting",
  "n_train_full": 13382,
  "n_test": 3346,
  "pos_train_full": 3145,
  "pos_test": 785,
  "pos_rate_train_full": 0.23501718726647736,
  "pos_rate_test": 0.23460848774656307,
  "n_features": 36,
  "feature_cols": [
    "patientonsetage",
    "age_years",
    "patientsex",
    "patientweight",
    "num_drugs",
    "num_reactions",
    "age_missing",
    "sex_male",
    "sex_female",
    "sex_unknown",
    "age_gt_65",
    "age_gt_70",
    "age_gt_75",
    "weight_missing",
    "bmi",
    "bmi_underweight",
    "bmi_normal",
    "bmi_overweight",
    "bmi_obese",
    "polypharmacy",
    "high_polypharmacy",
    "moderate_polypharmacy",
    "very_high_polypharmacy",
    "has_steroid",
    "has_antibiotic",
    "has_antiviral",
    "has_chemo",
    "has_targeted",
    "has_antifungal",
    "steroid_plus_antibiotic",
    "multiple_reactions",
    "many_reactions",
    "cancer_stage_I",
    "cancer_stage_II",
    "cancer_stage_III",
    "cancer_stage_IV"
  ],
  "metric_primary": "PR-AUC",
  "threshold_source": "validation (F1-max)",
  "scale_pos_weight": 3.2550079491255963,
  "results": {
    "Logistic Regression": {
      "accuracy": 0.630005977286312,
      "precision": 0.3198090692124105,
      "recall": 0.5121019108280255,
      "f1": 0.39373163565132224,
      "roc_auc": 0.6319918821519261,
      "pr_auc": 0.37007277124771576,
      "best_threshold": 0.5124004492722107
    },
    "Random Forest": {
      "accuracy": 0.6153616258218769,
      "precision": 0.31070889894419307,
      "recall": 0.5248407643312102,
      "f1": 0.39033633349123636,
      "roc_auc": 0.6388477828873574,
      "pr_auc": 0.39804728889120067,
      "best_threshold": 0.32221320097248923
    },
    "Gradient Boosting": {
      "accuracy": 0.6231320980274955,
      "precision": 0.33518005540166207,
      "recall": 0.6165605095541401,
      "f1": 0.43427545984746524,
      "roc_auc": 0.6644714818305947,
      "pr_auc": 0.4146256718502565,
      "best_threshold": 0.2159076006349752
    },
    "XGBoost": {
      "accuracy": 0.7115959354453079,
      "precision": 0.3923444976076555,
      "recall": 0.4178343949044586,
      "f1": 0.404688463911166,
      "roc_auc": 0.6488287069392181,
      "pr_auc": 0.41193331155668256,
      "best_threshold": 0.5476997494697571
    }
  }
}